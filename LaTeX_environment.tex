\documentclass{ltjsarticle}
% ltjsarticle: lualatex 用の 日本語 documentclass
% 他のタイプセットエンジンを使ってビルドする場合は、
%  \documentclass[dvipdfmx]{jsarticle} などとする。

\usepackage{url}
\usepackage{bxtexlogo} % platex, lualatexのロゴを使うために必要
\usepackage[hidelinks]{hyperref}
\begin{document}

\title{最強の\LaTeX 環境構築 Windows版}
\author{yuma, リュカ}
\date{\today}
\maketitle
\section{序文}
曖昧さを排除したできるだけ再現性の高い\LaTeX 
\footnote{日本では「ラテフ」と読むことが多い。たまに「レイテック」「ラテック」派がいる。}
環境構築に対する処方箋を書きたいという思いでこの資料を書いた。
しかし環境構築後にも難関が待ち受けている。
そのために環境構築後の設定の変更等にも配慮して資料を工夫した。
\begin{itemize}
  \item \LaTeX を使えるようになりたい。さらに高性能エディターで書きたい。
  \item 自分がものすごく苦労した環境構築を1日でかつ理解しながら終わらせたい。
  \item さらに、その先を自分で学習できるようにしたい。
  \item 苦労した環境構築の記憶をとどめておいてまた困った時に見返したい。
  \item 新大学1年生にも分かりやすく伝えたい。
\end{itemize}
という目標をもって書いた。同じような人の助けになれば幸いである。
可能な限り初心者に分かりやすくそして自分が忘れないように書いたつもりである。
論文は圧倒的に\LaTeX のほうが書きやすいといわれている。
この文章は、\LaTeX をVisual Stadio Code (以下VS Code)での環境構築のために自分が
したことのすべてを書いている。技術的解説もできるだけするように努めた。
実は\LaTeX の環境構築方法を完全に技術敵側面にも触れてしっかりVS Code上
に入れるための方法を体系的にまとめた資料はネットには
存在しない可能性がある。もちろん分かりやすくまとめたサイトはたくさんあるが
玉石混交である。そのために、VS Code 設定と、\LaTeX 設定の両面のアプローチ
から環境構築設定を解説したいと思った。


\subsection{編集方針}

この資料は、すべて\LaTeX によって書いた。見にくい部分もあるかもしれないが
これは、著者の技術によるところもあるので許してほしい。
VS Codeで\LaTeX 文書を快適に編集する環境を構成するためには、\LaTeX の書き方の知識、VS Codeの知識、
OSに関する知識、LaTeX workshopに関するさらには、.jsonファイル
% Windows に関する知識、LaTeX workshopに関するさらには、.jsonファイル
についての知識が必要になる。
% このsetting.json をいじるためには、Java script の基本的な書き方の規則を知らなければならない。
% // .jsonは、Java script の記法から派生しているとはいえ、それのみで完結した仕様を持つため、Java script を知らなくても利用できる
こういった前提知識の多さがあるため\LaTeX はとっつきにくいと思われていることも事実である。
そこで初心者に\LaTeX を使えるように、さらには自分好みにカスタマイズできるようになってもらうための資料とすることを編集の基本方針としたい。
この資料が\LaTeX に入門する一助となれば筆者としても幸甚の極みである。

\subsection{この資料の特徴}
この資料は、\LaTeX の解説書ではない。\LaTeX をVS Code上で動かすために必要なIT知識と
設定の方法を述べる。そのあとVS Codeの基本機能について説明する。
美文書書作成入門\cite{美文書本}は、\LaTeX の機能の解説については大変充実した良書ではあるものの、環境構築についてはあまり触れていない。またほかのサイトなどを探しても、IT知識が
少しでもないとまったく分からない。そのためにシステムをいじりたくなくなるし、さらに取り返しのつかなくなることがまれにある。この状況を回避するために
この資料を作った。

しかし、この資料にも至らぬ点が山ほどあると思われる。
自分もすべてを理解しているわけではない。
この資料の記述は自分がおこなってできたことだけを記述している。
それ以外のことを知りたい場合は、付録の参考文献やLaTeX workshopのreadmeを
読むとよい。
\subsubsection{設定用コード等について}
設定用コードは、コピー＆ペーストの利便性も考えてVS Code で使えるmarkdown形式のファイルにした。これはこの資料とともに使われることを想定したものである。
\subsection{追記事項}
基本編集方針にしたがってセクションの大幅改定をおこない、VS Codeの機能と
\LaTeX の機能、LaTeX workshop の基本機能の設定方法等についてを系統的に
配置した。さらに拡張機能についてをより詳しくした。
\subsection{この資料の読み方}
この資料は、細かな説明などは意図せずに省かれている可能性があるため、製作者のもとでこの資料を使う形式を想定している。したがってそれ以外の場合での利用は自分で参考文献等を読まれることを強くオススメする。資料制作者の立ち合いのもとでの教授のあと使用するという形式でも十分使える資料になっている。
\subsection{免責事項}
この資料を使ったことによる損害等は、製作者は一切の責任を負いません。
この資料に関する質問などは学術サーバー内でおこなっ。
varsion管理  ver2.0
\tableofcontents
\part{導入篇}
\section{\LaTeX , VS Code とは何か？}
\subsection{\TeX とは何か？}
\TeX とは、組版ソフトウェアのことである。これを使うと数式がきれいにかけたり、
自動で組版をしてくれたりする機能がある。
詳しくは、美文書書作成入門\cite{美文書本}に詳しい。
ここで、\TeX と\LaTeX はまったく違うものであることは記憶に値する。
この資料では、VS Code と\LaTeX で組版を行うが、LaTeX works editer やcloud LaTeX 
というものもあり、最初はそちらを使うとVS Codeの威力がわかると思う。
\subsubsection*{\TeX の完全性}
\TeX はそれ自体でチューリング完全であるから、実はほかのプログラミング用語等と同様に理論上どんなことでもできる。さらに、マクロの中でもチューリング完全であることが分かっている。\TeX の可能性は無限大である、
\subsection{VS Code とは何か？}
VS Codeとは、Visual Stadio Code の略でマイクロソフト社が提供する
統合開発環境である。そしてエディターとしても高性能である。
VS Codeは、
\begin{itemize}
  \item 無料で頒布されている。
  \item 動作が軽い
  \item クロスプラットフォームである。（さまざまなOSに対応している。
  \item 最新トレンド全部入り
  \item 拡張がしやすく、さまざまな機能がある。
\end{itemize}
という特徴がある。
\section{\TeX に慣れる。}
美文書作成入門\cite{美文書本}や一週間で\LaTeX の基礎礎が学べる本
\cite{一週間基礎}等を用いて、\LaTeX にふれることで
この後の流れが少し分かりやすくなるかもしれない。
そこで、環境構築せずにも\TeX が使える環境としてcloud LaTeX 
について解説する。
\subsection{cloud LaTeX の使用}
cloud LaTeX は、オンライン上で\LaTeX を扱うことが
できる。環境構築を設定する必要なくすぐにLaTeX文章を書くことができるためには
、TeXに慣れるという面では、有用である。したがってこの章では、cloud LaTeX の
使い方について簡単に説明して\TeX に慣れてもらいたい。
\subsection{cloud LaTeX の利用}
初めに
\url{https://cloudlatex.io/ja}
のサイトに行きユーザー名やメールアドレスと任意のパスワードを設定する。
すると設定したメールアドレスにメールが来るので、メールアドレスの受信確認
をクリックする。アカウント登録が完了する。
マイページから、新規プロジェクトの追加を選んで\LaTeX 文書を書き始めることが
できる。
cloud LaTeX はVS Code と同等の機能があるので最初に使うにはとてもいい教材である。データはすべてcloud LaTeXのサーバ上に保存されるのでデータが消える心配はほとんどない。また、共同作業も可能である。
しかし、共同作業をより効率的に行いたい場合は、Overleaf のほうが優れている可能性もある。
Overleaf はGit と連携することができるために論文執筆の際に有効となる。どちらがいいかは個人によるが、すぐに始めるならばcloud LaTeX をオススメする。
\part{環境構築篇}
\section{ローカル環境構築の基本用語}
\subsection{\LaTeX 環境設定用IT用語の理解}

\begin{itemize}
  \item 環境 \LaTeX が機能するための設定やハードソフト等の存在や設定などを
        合わせて環境という。
  \item ローカル  オンライン上ではなくパソコンのこと。ローカル環境とは
        自分のパソコンの環境のこと。
  \item ユーザー 自分が設定した名前 自分のこと
        ユーザーの名前のフォルダーが最上位にあると考えておけばよい。
  \item デフォルト 初期設定のこと。
  \item 隠しファイル エクスプローラー（よくファイルを使う場所）
        からは見えないファイル。たとえば、.latex 等の.の前に
        何もついていないファイルのこと。
        開き方 エクスプローラーを開いて上にある表示タブ
        を開いて表示タブにする。表示タブから隠しファイルを開いて、
        チェックマークをつける。これにより、
        今まで見えなかったファイルが見えるようになる。

  \item ディレクトリ ファイルが入っている階層を指し示す言葉。
        階層のことであり、
        日本語の意味では住所録の意味。ドライブ直下に置くとは、
        最上部のフォルダーの中に入れることを意味する。
        ファイルの現在位置を指し示す言葉で、ルートディレクトリとは、
        フォルダーの階層の最上位のフォルダーを意味する。


        ここで注意! \LaTeX や、その他のプログラミング言語は
        日本語つまり全角のファイル名は、探すことができない。
        エラーを出す。このため、すべてのファイル名や、
        パソコンでの設定した名前は、かならず半角英数字にすること
        を覚えておく必要がある。
  \item パス ディレクトリでそのファイルの住所位置を
        指定するもの。
  \item プロジェクトルート ディレクトリの一番初めに存在する
        それより上のファイルが存在しない領域
  \item グローバル すべてのユーザーやそのアプリケーション内ですべてに設定
        されるような設定のこと。
  \item コマンドプロンプト Windowsの操作をコマンドでおこなうためのシステム。\\
        開き方１ コマンドプロンプトをスタートメニュー（Windowsアイコンのタブ）
        の中の検索窓からコマンドプロンプトと打ち、マウスで出てきた
        コマンドプロンプトをクリックする。\\
        開き方２ Windowsキー+R で「ファイル名を指定して実行」という窓が出てくる
        のでその指定する窓にCmd と打ち Enterを打つことで、
        コマンドプロンプトを実行できる。
  \item リポジトリ
        プロジェクトを構成するプログラムのソースコードやドキュメント、
         関連する各種のデータやファイルなどを一元的に管理する格納場所のこと

\end{itemize}

\subsection{\LaTeX 用語の理解}
\begin{itemize}
  \item ビルド \LaTeX では、記述したソースコードに問題がない
        かどうかの解析を行い、問題がなければ実行可能なファイルに変換すること。
  \item コンパイラ コンパイラとは機械が読み取れる言語に移すことのできるソフトウェア等のこと。
  \item コンパイル ソースコードを機械が翻訳できる言語に移すことで、ビルドの中の一連の作業に入っている。
  \item プリアンブル \verb|\documentclass|から\verb|\begin{document}|までの中にある設定のこと。
  \item コーディング 何らかの情報をコンピューターにコードとして書くこと。
\end{itemize}
\section{\LaTeX VS Code 導入実践}

\subsection{\LaTeX 導入}
\LaTeX は、次のページからダウンロードすると良い。\\
\url{https://www.tug.org/texlive/acquire-netinstall.html}\\
をクリックして、ページ上のリンク install-tl-windows.exeをクリックする。この時、
警告が出るが無視して大丈夫。
そしてNextを押し続けてinstallを押す。これで、\LaTeX packageのほとんどすべてを
ダウンロードすることが可能。
\subsubsection*{正常なインストール完了を確認する。}
インストール完了後、コマンドプロンプトを起動して、\verb|latex -v|と打ち込む。
この時に、正式なversion情報が出てこれば正常に完了している。Versionは、$3.141592653$
のように円周率に近づいている。\\
（補足 これは、\TeX 製作者Donald E.Knuth教授の意向で
version up ごとに円周率$\pi$へ近づいて行く。）
\subsection{Visual Stadio Code 導入}
Visual Studio Code は次のページからダウンロードするとよい。\\
\url{https://code.visualstudio.com/download}\\
をクリックしてそのあとの画面の中から今回の場合は、
Windows を選択してダウンロードする。
ファイルを開き、追加タスクの変更は触らないようにしてNextを押し続ければ
installできる。
VS Codeをアイコンから開いて、積み木のようなアイコンExtentions（拡張機能）
をクリック。検索窓にJapaneseと打って、
Japanese Language Pack for Visual Studio Code
を選択してインストールする。これで日本語化が完了する。
これにより、VS Code側の基本設定は終了。
\section{環境構築実践}
環境構築の手順を順を追って紹介する。
この手法であれば今の環境下では大丈夫
\subsection{エクスプローラーの構築}
隠しファイルが見えるようにする。
開き方 エクスプローラーを開いて上にある表示タブ
を開いて表示タブにする。表示タブから隠しファイルを開いて、
チェックマークをつける。これにより、
今まで見えなかったファイルが見えるようになる。

\subsection{.latexmkの構築} % （fold）

\label{sub:.latexmkの構築}
% subsection .latexmkの構築 （end）.latexmkの構築
隠しファイルを開いてディレクトリをユーザーディレクトリの直下におく。
このファイルはメモ帳でおこなってもよいし、VS Code上でおこなってもよい。
ない場合は新たに作ること。エクスプローラーのWindowsフォルダーの
中のユーザーフォルダーの中に自分の名前が入っているフォルダーがある。
ここに次のコードを制作した名前が.latekmkという名前のファイルを
保存する。つまりルートフォルダーにこのファイルを保存するということ。
latexmkとは、各種latexのビルドコマンドの実行を適切な順序で
適切な回数おこなうためのツールである。


この作業が終わったら、次はVS Codeを起動する。
\subsection{setting.jsonを開く}
setting.json を開くためには2通りある。\\
1つ目\\
VS Code左下の設定マーク（歯車マーク）から一番上のタブのコマンドパレット
から、Preferences:Open User Setting と打ちこむ方法\\
2つ目\\
キーボードのショートカットキーを用いて、ctrl+shift+P と入力することで、
コマンドパレットを出現させてそこにPreferences:Open User Setting
と打ち込む方法\\
の2つの方法があり熟練したら2番目の方法の方が効率良い。
\subsection{setting.jsonの設定}
.json はジェイソンと呼ぶ。
.json はJavaScript に対応している。
setting.json を開いたら、そこに何か書き込まれていた場合それには触らずに、
\verb|{}|
がかならずあるので、その中に次のコードをコピーして張り付ける。

\subsection{\pLaTeX のコンパイルについて}
\pLaTeX のコンパイルについて
\pLaTeX に関する設定だけは、うまくいかないので下のように書き換える。
\pLaTeX  のところの
recipe tools の変更をおこなう。
setting.jsonのlatex-workshop.latex.toolsのところに次のように書き換える。

と書き換えれば良い。
\subsection{setting.json の各種機能}
\begin{verbatim}
  "latex-workshop.latex.autoBuild.run": "never"、
\end{verbatim}
は、自動コンパイル機能である。しかし、自動コンパイルは、
このファイルのように大きすぎると非常に重くなってしまう。
\LaTeX は、コンパイルと、書くことを分離することで、
書く必要量をへらしているために
これはneverにしておくことをオススメする。

\part{\LaTeX 解説篇}
\section{\LaTeX の基本機能の設定}
\LaTeX の基本精神は、人間は、内容に集中して \LaTeX はデザインに
集中するという使い方をすること。余計な装飾はできるだけ避けるのが無難。
\subsection{コンパイル}
\begin{itemize}
  \item ctrl+Alt+Bのショートカットキーでおこなう。
  \item VS Code右上の緑色の三角マークをクリックして行う。
  \item 左のタブのBuild LaTeX project の中のRecipe:からおこなう。
\end{itemize}
ただし、今回の設定では、上の2つの方法でコンパイルすると\LuaLaTeX
で出力される。このために、\upLaTeX などを使いたい場合は、
左のタブからおこなう必要がある。
\subsection{latexindent}
\LaTeX のソースを自動で成形してくれるツールこれは、ソースに自動で空白等を
入れてくれる環境がTeXliveにデフォルトで入っている。
latexindent はVS Code上で、shift+Alt+Fをするとできる。
これはitemize環境等に空白を入れて見やすくする機能がある。
\subsection{\LaTeX で書いてみる。}
次の\LaTeX の文章を入力する。これは、\LuaLaTeX で書くとよい。


\section{エラーメッセージを読む}
LaTeX workshop ではエラーがメッセージで表示されるがそれを
初心者はなかなかうまく使いこなせない。
そこでエラーの読み方と対応策を考える。
\subsection{Recipe terminated with error}
おそらくLaTeX Workshop を使ってはじめて見るだろうエラー。
このエラーは、\LaTeX 側のエラーではない。\LaTeX のエラーは、
Ctrl+Shift+M のショートカットキーで表示される。
これは、注意が出ている時にも使うことができる。
\subsection{Recipe terminated with error。 Retry building the project。}
このエラーというよりかは警告なのだがこれも本質的に意味がない。
\subsection{意味のあるエラーメッセージ}
意味のあるエラーメッセージは、出力される'問題'のログかまたは、"*.log"
という\LaTeX のコンパイルの際に使われる中間生成物のファイルである。
今回のデフォルト設定では、このファイルは削除されるため出てこないが、
エラーが特定しやすくするためには、残しておいた方が良いときもある。

\section{新規packageの導入}
新規パッケージつまり、インターネット上や、
自分で作ったスタイルファイル等を使いたいときに、めんどくさいことになる。
パッケージファイルの拡張子は “.sty” であり、
このパッケージを適切な場所に配置しなければならない。
しかし、".sty"が入っていない場合がある。これに対処するためには次セクション
\subsection{".sty"ファイルが入っていない場合}
".ins"ファイルが重要になる。
このファイル形式は、パッケージ本体と".ins"ファイルが入っている.dtxを
\LaTeX で.dtx ファイルを実行する必要がある。\\
たとえばtools.ins というファイルがあった場合には、.dtx ファイルを
同じディレクトリに保存する。次に
コマンドプロンプトを起動して、以下のように、入力する。
\begin{verbatim}
  latex tools.ins
\end{verbatim}
すると、同じフォルダー内に.sty ファイルが生成される。
この.styファイルの保存場所は、次セクション参照。
\subsection{TeX Directory Structure とは何か？}
texのパッケージなどは、TDS（TeX Directory Structure）にしたがって各
ディレクトリに配置されている。
今回はtexliveなので、エクスプローラーからwindowsフォルダーの中の
texlive フォルダーの中の2022年フォルダーの中のtexmf-distの中のtexの中の
latexフォルダーの中に各パッケージのフォルダーがあり、
その中に各スタイルファイルフォルダーが保存されている。といった構成に
なっている。
これは非常に見にくいし、読みにくいので、ここからは、これを
\begin{verbatim}
  C:\texlive\2022\texmf-dist\tex\latex
\end{verbatim}
のように書くと簡便になる。
そしてこれがWindowsのディレクトの記述の仕方である。
この中のtexフォルダーにはたくさんのフォルダーがあるが、
最初に覚えておくべきは2つで、
\begin{center}
  \begin{tabular}{lrr} \hline
    folder名  & 意味                                \\ \hline
    tex       & TeXの操作に関するフォルダーで、latex フォルダーがある。  \\
    font      & フォントにかかわるフォルダー。                  \\ \hline
  \end{tabular}
\end{center}
であり、このことから、.styファイルの保存場所は、
\begin{verbatim}
  C:\texlive\2022\texmf-dist\tex\latex
\end{verbatim}
よりも下のファイルに加えれば良いことがわかった。
フォントファイルについては、以下参照。
\url{https://texwiki.texjp.org/?TeX%20%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90}
\subsection{パッケージを使うための一覧表の更新}
texlive環境では、上のように.styファイルを保存しても動かない。これは、
ls-Rというファイルが存在していてこれが、TeXが必要なパッケージを探すための
パスを与えている。そのために、この一覧表を更新しなければならない。
このためには、コマンドプロンプトを開き、次のように命令するだけでいい。
\begin{verbatim}
  mktexlsr
\end{verbatim}
と入力することで一覧表を更新することができる。
\subsection{使用するべきpackage}
packageは最小構成でおこなうべきである。
なぜなら、\LuaLaTeX はかなり最近のものであり、packageが\LuaLaTeX に
対応していないということもかなりの可能性としてある。
そのため、参考になるのは参考文献のサイト

\section{\TeX Live の更新について}

\part{VS Code 解説篇}
\section{VS Codeの基本機能}
デフォルトで使えるVS Codeの基本機能を解説する。
\subsection{、。を、。にする<置換機能>}
VS Codeの基本機能として、置換機能がついている。このためマクロを組まずとも
、を、に変えることができる。
コマンドは、Ctrl+Hキーを押すと検索と置換が出てきて、Enter キーを押すと
ひとつづつ置換、Crl+Alt+Enter キーを押すとすべてが置換される。
また置換を閉じるのはEsc キーである。
\subsection{コメント機能}
\LaTeX のコメントは％である。しかしこれをいちいち書くのは面倒くさい。
さらにプログラム言語によりコメント機能はまったく違う。この時に、Ctrl+/ を
使うことで、どんなプログラム言語にも対応したコメント機能が
すぐにつけられる
\subsection{各種コマンド}
\begin{center}
  \begin{tabular}{lrr} \hline
  コマンド            & 機能                  \\ \hline
  Ctrl+Alt+B          & ビルドを実行する。           \\
  Ctrl+Alt+V          & pdfviewer を起動する。    \\
  Ctrl+click          & SyncTeXの利用（pdf側）    \\
Ctrl+Alt+J            & SyncTeXの利用（コード側）    \\
  Ctrl+Hキー          & 置換パレットの表示           \\
    Crl+Alt+Enter     & 置換の全置換              \\
    Ctrl+/            & 行のコメントアウト機能（全コード共通） \\
    Ctrl+@            & VS Codeのターミナルの起動     \\
    Shift+Alt+F       & latexindentを実行する。\\
    Ctrl+Space        & コード補完を再表示\\
    Ctrl+Shift+'+ or -' & ズームの程度を調整する。        \\ \hline
  \end{tabular}
\end{center}
ただし、ビルドコマンドはビルドをするのは、Build LaTeX project の最初に
設定されているコマンドがデフォルトで設定されている。


\section{VS Codeの設定について}
\subsection{VS Code の設定について}
VS Codeの設定は、setting.jsonというすべてに適応される設定と、workspace設定という、workspaceと呼ばれるファイルを何個か入れた空間について設定ができる。さらにファイルごとにも設定ができる。この優先順位は、setting.json 、work space 設定、ファイル設定の順に高い。これの設定のおかげで、さまざまな設定がおこなえるようになる。ワークスペースが1つのアプリケーションのように使うことができる。
\subsection{wordwrap}
wordwrapとは、このエディターの中で入力している中でpdfview等にしているときに文章が見えている間で改行を自動で行ってくれる設定である。この設定は最初、自動改行しない設定になっている。この時には、書いている行が右にシフトしてしまい、マウス又は、エンドキー等で次の行にしなければならない。また見るときも水平スクロールをしなければならない。しかしこの機能を有効にすることで、自動で改行し、文章の視認性が高くなる。
したがってこの設定は、プログラミング以外ではonにしておいた方がいいだろう。
\subsection{SyncTexを使う}
\subsubsection*{SyncTex とは何か？}
TeX のソースファイルと PDF でカーソルの位置を同期する機能のこと。
これを使えば、pdf上の表示がどのソースに関係しているかということが
すぐにわかる。
\subsubsection*{SyncTeXの設定}
SyncTeXとは、ビルドするときに形成されるファイル
によって動かすことができる。つまりファイルが必要になる。
そのファイルの名前は、'.synctex.gz'である。
しかし、今のsetting.jsonでは、
このファイルは消去される設定になっている。
ゆえに、このファイルを消去しないようにしなければならない。
したがって、setting.jsonから
\begin{verbatim}
  "latex-workshop.latex.clean.fileTypes":
\end{verbatim}
の記述の中から、
\begin{verbatim}
  "*.synctex.gz"、
\end{verbatim}
の記述を消去すればよい。これにより、VS Codeのpdfvierにおいて、
SyncTeXが利用できるようになる。
\subsubsection*{SyncTeXの具体的な利用の仕方}
pdfviewer上でCtrl キーを押しながらマウスでコードをみたい場所におき、
左クリックすることでそのコードの位置に飛ぶことができる。
逆にコードからpdfに飛びたいときは、選択範囲をマウスで示して、または
カーソルを示して、 Ctrl+Alt+J で飛ぶことができる。
（コマンドパレットからSyncTeXと入れてコマンドを実行させてもよい。）

\subsection{スニペット導入}
\subsubsection*{スニペットとは}
スニペットとは、コードの中で何回も使うだろうコードを少しの記述
でそれを呼び出す一連の動作のことをいう。スニペットの語源は、
短い単語のことである。
\subsubsection*{スニペットの導入}
まずスニペットを導入する。左下の歯車から「ユーザースニペットの構成」を
選択する。検索窓が出てくるので、latexと入力して latex.json を開く。
latex.json にも、\verb|{}|があるので、その中に次のコードをコピーする。
スニペットの導入は、setting.jsonとは異なるため環境を破壊することはない。



と書く。たとえば、report とlatexで打つと、
reportのひな形が出てくるようになる。
このように、スニペットはプリアンブル部等
を簡単に早く書くことができるようになる。
\subsection{スニペットの書き方}
スニペットの自作フォーマットは次のように書く。
スニペットもsetting.jsonと同じように、','で各設定を区切る。
\begin{verbatim}[caption=latex.json]
	{
  "[ スニペットの名前 ]": {
    "prefix": "[ 呼び出すときのショートカット]",
    "body":[
      "[ 出力されるコードの1行目]",
      "[ 出力されるコードの2行目]",
      "...",
    ],
    "description": "[ スニペットの説明文]"
  }
  }
\end{verbatim}
のように書く。
\subsubsection*{入力値の補足}
入力値の中のコマンドに\verb|$n|というのがあるがこれは、スニペットを
記述するときに入力するためのカーソルが
次にどこにいけば良いかを入力するための引数である。
たとえば、次の例では、プログラミングを載せるための環境をスニペットにより
定義している。
\begin{verbatim}[caption=latex.json]
	{
  "[ スニペットの名前 ]": {
    "prefix": "[ 呼び出すときのショートカット]",
    "body":[
      "[ 出力されるコードの1行目 $1]",
      "[ 出力されるコードの2行目 $2]",
      "。。。",
      "$1"
      "",
    ],
    "description": "[ スニペットの説明文 ]"
  }
  }
\end{verbatim}

このように書いたときに、カーソルが\verb|$1|を記述した後にTabキーを押すと
\verb|$2|にカーソルが移動するように書くことができる。
また、さらに、\verb|$1|が2つあるが、これらは同じことを記述したい場合には
たとえば参照をタイトルと同じにしたい場合、両方一度に入力することができる。
さらに、bodyの末尾に""を入れておけば、入力終了後に
次の行からすぐに書き始めることができる。


\part{VS Code 拡張機能篇}
\section{LaTeX workshop の設定}
\subsection{シンタックスハイライト}
シンタックスハイライトとは、\LaTeX の文章などを編集するためのコマンドに色を
つけることでその対応やコードの視認性を高める効果がある。
しかしながら、LaTeX workshopはそれに対応しているのだが
VS CodeのカラーテーマをVisual Studio Dark または Visual Studio Light
にしているとうまく機能してくれない。したがってダークテーマで
シンタックスハイライトを使いたい場合は、デフォルト設定の
Dark+ を使用するとよい。又はほかのテーマカラーならば良い。

\section{VS Codeの拡張機能}
VS Codeの拡張機能は、できるだけ入れないことが基本。VS Codeの基本機能
として使える機能があればわざわざ拡張機能を入れるべきではない。
これは、VS Codeの特徴セある「軽い」という特徴を阻害するからである。
しかし入れるべき拡張機能はもちろん存在する。
\begin{itemize}
\item cloud LaTeX 連携
\item Ultra Math Preview
\item CaTeX
\item 
\end{itemize}

\subsection{cloud LaTeX との連携}
cloud LaTeX を使うことでパソコン内部に\LaTeX 環境を構築しなくとも
\LaTeX を使うことができる。cloud  LaTeX は cloud LaTeX と同一のサーバー内とローカルのこのVS Codeと連携することが可能であり、それにより、ローカルとサーバーで同期ができるために非常に便利なものとなっている。
\subsubsection*{利点}
\begin{itemize}
  \item データがサーバ上で保存するためにデータが消える心配はない。
  \item コンパイルがサーバ上でおこなわれるために自分のパソコンに負荷がかからないそのために自分のパソコンではできないautobluid が可能。
  \item cloud LaTeXのシステムやインストールされたパッケージを簡単に使うことができる。
\end{itemize}
\subsubsection*{欠点}
\begin{itemize}
  \item VS Code からサーバーを立ち上げることができないために、最初にcloud LaTeX の方に入る必要がある。
  \item 定期的な対応の更新をしなければならない。
  \item ローカル上ではコンパイルできないためにオフライン状態でコンパイルできない。
\end{itemize}
等が挙げられる。
\subsubsection{導入の設定}
導入の設定は、md形式のファイルに添付されているものをsetting.jsonに入れればよい。cloud LaTeX 参照
\subsection{Ultra Math Previewの設定}
Ultra Math Preview はmarkdown とtex の数式をLaTeX Workshop の数式Previewよりもより早くプレビューを導入してくれる。さらにユーザー定義のmathPreview を導入することができるためにLaTeX Workshop 標準のプレビューよりもより利便性が高いものになっている。標準は対応していないパッケージをPreview することができる。
\subsection{CaTeX を導入する。}
CaTeX（軽鳥/怪鳥）とは、Hiromi ISHII が作った、LaTeX workshop とともに使うことを
想定した、VS Code上での拡張機能である。
イメージ補完などが使える。
これは必要になったら導入するくらいで十分であると思う。
CaTeXを追加するとCtrl+C のコマンドが使えなくなるということが発生した。
これは、CaTeX が勝手にショートカットキーを作るためにコピーがうまく使えなくなる。
これを解決するためには、keyショートカットキーを変更しなければならない。
その方法の説明はほかの章に譲る。
\subsection{テキスト校閲くん}
テキスト校閲くんは、texファイルやmdファイル等の日本語文章を校閲することができる。これはインストールするだけでできる。

\section{キーボードショートカットの変更方法}

\section{Git 連携}
VS Code にはGit というバージョン管理システムがあり、
これを用いることで巨大な文書制作でのバージョン管理が効率化するという
利点がある。
そしてGit はVS Code上で開くことができる。
これはローカル環境にバージョン管理のためのレポジトリを生成できる。
これによりバージョン管理が非常に簡単になりさらにどこを変更したのかということが
非常に簡単にわかる。
したがって今までCtrl+z で前の状態に戻っていたと思うが、
セーブするとその前以上には戻ることができなかった状況から
これは理論的には無限の過去の状態に戻すことができる状態になる。
なおかつローカルにもオンライン（GitHub）
として共同作業をオンラインですることができたり、また全世界に公開して
共同作業ができたりする。
このように複数人でおこなう文書やプログラミング制作で大いに役立つ機能である。
\subsection{Git の導入}
git はVS Codeの3つ目のタブにある丸が3つつながっているようなタブを
クリックするとGitの導入を促すようなものがあるのでそれをクリックして
Git のソフトウェアをGit のホームページからダウンロードする。
\subsection{GitHub の導入}
GitHub はgitと連携してネット上にレポジトリを生成することできる。
GitHub は次のサイトから自分のメールアドレスを登録するだけで無制限に使うことができる。
\url{https://github.com}

\part{markdownk解説篇}
\section{markdownとは何か？}
この資料の付録は、markdown記法により書いている。markdownとは、TeXと同様のマークアップ言語である。この言語はhtml記法と同じような性質を持つが記法をマスターするために必要な覚えるべきコマンドが非常に少ない。
、

\begin{itemize}
  \item 手軽に文章構造を明示できること
  \item 簡単で、覚えやすいこと
  \item 読み書きに特別なアプリを必要としないこと
  \item それでいて、対応アプリを使えば快適に読み書きできること
\end{itemize}

などがある.Markdownはジョン・グルーバー（John Gruber）によって2004年に開発され、最初は \url{http://daringfireball.net/projects/markdown/} で公開された。その後、多くの開発者の手を経ながら発展した。
\section{markdownとtexファイルの変換}

\appendix
\section{ショートカットキー一覧}
\begin{center}
  \begin{tabular}{lrr} \hline
    コマンド            & 機能                  \\ \hline
    Alt+Z               & wordwrapの変更        \\
    Ctrl+Alt+B          & ビルドを実行する。       \\
    Ctrl+Alt+V          & pdfviewer を起動する。    \\
    Ctrl+click          & SyncTeXの利用（pdf側）    \\
    Ctrl+Alt+J          & SyncTeXの利用（コード側）    \\
    Ctrl+Hキー          & 置換パレットの表示           \\
    Crl+Alt+Enter       & 置換の全置換              \\
    Ctrl+/              & 行のコメントアウト機能（全コード共通） \\
    Ctrl+@              & VS Codeのターミナルの起動     \\
    Shift+Alt+F         & latexindentを実行する。\\
    Ctrl+Space          & コード補完を再表示\\
    Ctrl+Shift+M        & \LaTeX のエラーメッセージを表示する\\
    Ctrl+shift+M        & 数式環境で数式のプレビューを表示する。\\ 
    Ctrl+B              & サイドバーの表示の設定\\
    Ctrl+Shift+'+ or -' & ズームの程度を調整する。        \\
    Ctrl+K F            & ワークスペースを閉じる。\\ \hline
  \end{tabular}
\end{center}


次の参考文献は、
この資料を書き上げるために用いた資料一覧である。
この資料を読み通すことができたならば、
きっとこれらのサイトも読むことができるだろう。
さらに便利な使い方や、自分なりの設定をすることもできるだろう。
良い\LaTeX ライフを
\nocite{*}
\bibliographystyle{jplain}
\bibliography{refernce}

\end{document}
